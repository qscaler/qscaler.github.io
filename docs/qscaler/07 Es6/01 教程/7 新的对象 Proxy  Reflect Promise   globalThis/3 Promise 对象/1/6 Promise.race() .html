<!--
 * @Author              : qxp
 * @Date                : 2021-03-25 10:54:48
 * @LastEditors         : Please set LastEditors
 * @LastEditTime        : 2021-03-25 11:20:34
 * @FilePath            : \new\6 Es6\10 Promise 对象\6 Promise.race() .html
-->
Promise.race()

Promise.race()方法同样是将多个 Promise 实例，包装成一个新的 Promise 实例。

const p = Promise.race([p1, p2, p3]);
上面代码中，只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给p的回调函数。

下面是一个例子，如果指定时间内没有获得结果，就将 Promise 的状态变为reject，否则变为resolve。
<script>
    const p = Promise.race([
        fetch('/resource-that-may-take-a-while'),
        new Promise(function (resolve, reject) {
            setTimeout(() => reject(new Error('request timeout')), 5000)
        })
    ]);

    p
        .then(console.log)
        .catch(console.error);
</script>
上面代码中，如果 5 秒之内fetch方法无法返回结果，变量p的状态就会变为rejected，从而触发catch方法指定的回调函数。

Promise.race()对完成感兴趣。首先完成的 Promise 是“胜利” race是竞争关系
Promise.any()对成功感兴趣。首先成功的 Promise 是“胜利” any是合作关系