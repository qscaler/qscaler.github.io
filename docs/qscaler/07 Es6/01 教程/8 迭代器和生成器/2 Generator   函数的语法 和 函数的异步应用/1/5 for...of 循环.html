<!--
 * @Author              : qxp
 * @Date                : 2021-03-25 16:10:42
 * @LastEditors         : Please set LastEditors
 * @LastEditTime        : 2021-03-25 16:31:06
 * @FilePath            : \new\6 Es6\12 Generator 函数的语法\5 for...of 循环.html
-->
for...of循环可以自动遍历 Generator 函数运行时生成的Iterator对象，且此时不再需要调用next方法。
<script>
    function* foo() {
        yield 1;
        yield 2;
        yield 3;
        yield 4;
        yield 5;
        return 6;
    }

    for (let v of foo()) {
        // console.log(v);
    }
    // 1 2 3 4 5
</script>
上面代码使用for...of循环，依次显示 5
个yield表达式的值。这里需要注意，一旦next方法的返回对象的done属性为true，for...of循环就会中止，
且不包含该返回对象，所以上面代码的return语句返回的6，不包括在for...of循环之中。

下面是一个利用 Generator 函数和for...of循环，实现斐波那契数列的例子。
https://blog.csdn.net/qq_39300332/article/details/80000837
<script>
    function* fibonacci() {
        let [prev, curr] = [0, 1];
        for (; ;) {
            yield curr;
            [prev, curr] = [curr, prev + curr];
        }
        // while (true) {
        //     [prev, curr] = [curr, prev + curr];
        //     yield curr;
        // }
    }

    // for (let n of fibonacci()) {
    //     if (n > 1000) break;
    //     console.log(n);
    // }


    const fibo = fibonacci();
    // for (let i = 0; i < 10; i++) {
    //     ac = fibo.next()
    //     console.log(ac.value)
    // }

    // do while先执行后判断，循环至少执行一次，即便条件为false  。 while先判断后执行
    // while (fibo.next().value < 1000) {
    //     ac = fibo.next()
    //     console.log(ac.value)
    // }
    do {
        ac = fibo.next()
        console.log(ac.value)
    } while (ac.value < 1000) {

    }

</script>

利用for...of循环，可以写出遍历任意对象（object）的方法。
原生的 JavaScript 对象没有遍历接口，无法使用for...of循环，通过 Generator 函数为它加上这个接口，就可以用了

<script>
    function* objectEntries(obj) {
        let propKeys = Reflect.ownKeys(obj);
        for (let propKey of propKeys) {
            yield [propKey, obj[propKey]];
        }
    }
    let jane = { first: 'Jane', last: 'Doe' };
    for (let [key, value] of objectEntries(jane)) {
        console.log(`${key}: ${value}`);
    }
    // first: Jane
    // last: Doe


    // 上面代码中，对象jane原生不具备 Iterator 接口，无法用for...of遍历。这时，我们通过 Generator 
    // 函数objectEntries为它加上遍历器接口，就可以用for...of遍历了。加上遍历器接口的另一种写法是，
    // 将 Generator 函数加到对象的Symbol.iterator属性上面。

    function* objectEntries() {
        let propKeys = Object.keys(this);
        for (let propKey of propKeys) {
            yield [propKey, this[propKey]];
        }
    }

    let jane = { first: 'Jane', last: 'Doe' };

    jane[Symbol.iterator] = objectEntries;

    for (let [key, value] of jane) {
        console.log(`${key}: ${value}`);
    }
    // first: Jane
    // last: Doe
</script>