<!--
 * @Author              : qxp
 * @Date                : 2021-03-22 15:02:03
 * @LastEditors         : Please set LastEditors
 * @LastEditTime        : 2021-03-22 15:05:29
 * @FilePath            : \new\6 Es6\5 扩展\2 数值的扩展.html
-->

### 数值分隔符 _

欧美语言中，较长的数值允许每三位添加一个分隔符（通常是一个逗号,），增加数值的可读性。比如，1000可以写作1,000。

1. **ES2021，允许 JavaScript 的数值使用下划线（_）作为分隔符**。
    ```js
    let budget = 1_000_000_000_000;
    budget === 10 ** 12 // true

    123_00 === 12_300 // true
    ```
2. **这个数值分隔符没有指定间隔的位数**，也就是说，可以每三位添加一个分隔符，也可以每一位、每两位、每四位添加一个。
    ```js
    12345_00 === 123_4500 // true
    12345_00 === 1_234_500 // true
    ```

3. 小数和科学计数法也可以使用数值分隔符。

    ```js
    // 小数
    0.000_001

    // 科学计数法
    1e10_000
    ```
4. 数值分隔符有几个使用注意点。

    - 不能放在数值的最前面（leading）或最后面（trailing）。
    - 不能两个或两个以上的分隔符连在一起。
    - 小数点的前后不能有分隔符。
    - 科学计数法里面，表示指数的e或E前后不能有分隔符。

    下面的写法都会报错。
    ```js
    1464301_
    _1464301
    
    123__456

    3_.141
    3._141
    
    1_e12
    1e_12
    ```
5.  除了十进制，其他进制的数值也可以使用分隔符。
    ```js
    // 二进制
    0b1010_0001_1000_0101
    // 十六进制
    0xA0_B0_C0
    ```
    可以看到，数值分隔符可以按字节顺序分隔数值，这在操作二进制位时，非常有用。

    注意，**分隔符不能紧跟着进制的前缀0b、0B、0o、0O、0x、0X**。
    ```js
    // 报错
    0_b111111000
    0b_111111000
    ```

6.  数值分隔符只是一种书写便利，对于 JavaScript 内部数值的存储和输出，并没有影响。
    ```js
    let num = 12_345;

    num // 12345
    num.toString() // 12345
    上面示例中，变量num的值为12_345，但是内部存储和输出的时候，都不会有数值分隔符。

    下面三个将字符串转成数值的函数，不支持数值分隔符。主要原因是语言的设计者认为，数值分隔符主要是为了编码时书写数值的方便，而不是为了处理外部输入的数据。

    Number()
    parseInt()
    parseFloat()
    Number('123_456') // NaN
    parseInt('123_456') // 123
    ```